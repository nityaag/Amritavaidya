package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.sql.*;
import java.util.Calendar;
import java.sql.*;
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.lang.*;
import java.sql.*;
import java.util.Calendar;
import java.sql.*;
import java.io.*;
import javax.servlet.http.*;
import javax.servlet.*;
import javax.servlet.annotation.MultipartConfig;
import java.sql.*;
import java.util.Calendar;

public final class oc_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html lang=\"en\">\n");
      out.write("<head>\n");
      out.write("    <meta charset=\"UTF-8\">\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("    <title>Online Consultation Form</title>\n");
      out.write("    <style>\n");
      out.write("        body {\n");
      out.write("    font-family: Arial, sans-serif;\n");
      out.write("    background-color: #f0f8ff; /* Light blue background for a calming effect */\n");
      out.write("    color: #333;\n");
      out.write("    margin: 0;\n");
      out.write("    padding: 0;\n");
      out.write("}\n");
      out.write(".header {\n");
      out.write("            background: linear-gradient(45deg, #b2dfdb, #e1f5fe, #dcedc1);\n");
      out.write("            padding: 15px;\n");
      out.write("            display: flex;\n");
      out.write("            justify-content: space-between;\n");
      out.write("            align-items: center;\n");
      out.write("            border-radius: 15px;\n");
      out.write("            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .header img {\n");
      out.write("            height: 100px;\n");
      out.write("            width: 100px;\n");
      out.write("        }\n");
      out.write(".menu {\n");
      out.write("            display: flex;\n");
      out.write("            gap: 35px;\n");
      out.write("            position: relative;\n");
      out.write("            background-color: white;\n");
      out.write("            padding: 20px 30px;\n");
      out.write("            border-radius: 20px;\n");
      out.write("            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);\n");
      out.write("            font-weight: bold;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu a {\n");
      out.write("            text-decoration: none;\n");
      out.write("            color: black;\n");
      out.write("            font-weight: bold;\n");
      out.write("            position: relative;\n");
      out.write("            font-size: 20px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item {\n");
      out.write("            position: relative;\n");
      out.write("            font-size: 20px;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .dropdown {\n");
      out.write("            position: absolute;\n");
      out.write("            top: 100%;\n");
      out.write("            left: 0;\n");
      out.write("            display: none;\n");
      out.write("            background: #4db6ac;\n");
      out.write("            border: 1px solid #ddd;\n");
      out.write("            box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);\n");
      out.write("            border-radius: 5px;\n");
      out.write("            z-index: 1000;\n");
      out.write("            min-width: 250px;\n");
      out.write("            overflow: hidden;\n");
      out.write("            transform: translateY(10px);\n");
      out.write("            transition: opacity 0.3s ease, transform 0.3s ease;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .dropdown a {\n");
      out.write("            display: block;\n");
      out.write("            padding: 12px 20px;\n");
      out.write("            text-decoration: none;\n");
      out.write("            color: #333;\n");
      out.write("            font-weight: bold;\n");
      out.write("            background: white;\n");
      out.write("            border-radius: 8px;\n");
      out.write("            margin: 5px 10px;\n");
      out.write("            transition: background 0.3s ease, transform 0.2s ease;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .dropdown a:hover {\n");
      out.write("            background-color: #b2dfdb;\n");
      out.write("            transform: scale(1.05);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .dropdown.show {\n");
      out.write("            display: block;\n");
      out.write("            opacity: 1;\n");
      out.write("            transform: translateY(0);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item:hover .dropdown {\n");
      out.write("            display: block;\n");
      out.write("            opacity: 1;\n");
      out.write("            transform: translateY(0);\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        .menu-item:last-child .dropdown {\n");
      out.write("            left: auto;\n");
      out.write("            right: 0;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("        /* Footer styles */\n");
      out.write("        .footer {\n");
      out.write("            background: linear-gradient(to right, #b2fefa, #0ed2f7);\n");
      out.write("            padding: 20px 15px;\n");
      out.write("            text-align: center;\n");
      out.write("            color: white;\n");
      out.write("            font-size: 15px;\n");
      out.write("            font-weight: bold;\n");
      out.write("            margin-top: 50px;\n");
      out.write("            overflow: hidden;\n");
      out.write("        }\n");
      out.write("\n");
      out.write("\n");
      out.write(".container {\n");
      out.write("    width: 50%;\n");
      out.write("    margin: auto;\n");
      out.write("    padding: 20px;\n");
      out.write("    background: white;\n");
      out.write("    border-radius: 10px;\n");
      out.write("    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n");
      out.write("     border: 2px solid #000000;\n");
      out.write("\n");
      out.write("}\n");
      out.write(" .form-header {\n");
      out.write("      display: flex;\n");
      out.write("      justify-content: space-between;\n");
      out.write("      align-items: center;\n");
      out.write("      margin-bottom: 20px;\n");
      out.write("      border-bottom: 8px solid #22ce83;\n");
      out.write("      padding-bottom: 10px;\n");
      out.write("    }\n");
      out.write("    .form-header img {\n");
      out.write("      width: 60px;  \n");
      out.write("      height: 60px;\n");
      out.write("    }\n");
      out.write("    .form-header h1 {\n");
      out.write("      font-size: 45px;\n");
      out.write("      margin: 0;\n");
      out.write("      color: #333;\n");
      out.write("    }\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("/* Form Styles */\n");
      out.write("label {\n");
      out.write("    font-weight: bold;\n");
      out.write("    color: #0056b3;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".form-group {\n");
      out.write("    margin-bottom: 15px;\n");
      out.write("     \n");
      out.write("\n");
      out.write("}\n");
      out.write("\n");
      out.write(".input-box, .textarea-box, .select-box {\n");
      out.write("    width: 100%;\n");
      out.write("    padding: 10px;\n");
      out.write("    margin-top: 5px;\n");
      out.write("    border: 1px solid #ccc;\n");
      out.write("    border-radius: 5px;\n");
      out.write("    font-size: 16px;\n");
      out.write("    background-color: #f9f9f9;\n");
      out.write("    transition: 0.3s ease;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".input-box:focus, .textarea-box:focus, .select-box:focus {\n");
      out.write("    border-color: #28a745;\n");
      out.write("    box-shadow: 0px 0px 5px rgba(40, 167, 69, 0.5);\n");
      out.write("   \n");
      out.write("}\n");
      out.write("\n");
      out.write(".textarea-box {\n");
      out.write("    height: 80px;\n");
      out.write("    resize: vertical;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".radio-group {\n");
      out.write("    display: flex;\n");
      out.write("    gap: 15px;\n");
      out.write("    color: #0056b3;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".row {\n");
      out.write("    display: flex;\n");
      out.write("    gap: 10px;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".row input {\n");
      out.write("    flex: 1;\n");
      out.write("}\n");
      out.write("        .select-box {\n");
      out.write("            width: 100%;\n");
      out.write("            padding: 8px;\n");
      out.write("\n");
      out.write("        }\n");
      out.write("        .section-header {\n");
      out.write("            background: #26547c;\n");
      out.write("             color: black;\n");
      out.write("            padding: 10px;\n");
      out.write("            display: flex;\n");
      out.write("            justify-content: space-between;\n");
      out.write("            align-items: center;\n");
      out.write("            cursor: pointer;\n");
      out.write("            border-radius: 5px;\n");
      out.write("            margin-top: 20px;\n");
      out.write("        }\n");
      out.write("        .section-header:hover {\n");
      out.write("         background-color: #26547c;\n");
      out.write("         color: white;\n");
      out.write("}\n");
      out.write("        .form-content {\n");
      out.write("            display: none;\n");
      out.write("            padding: 10px;\n");
      out.write("            border-top: 1px solid #ccc;\n");
      out.write("        }\n");
      out.write("        .stress-circle {\n");
      out.write("            width: 30px;\n");
      out.write("            height: 30px;\n");
      out.write("            border-radius: 50%;\n");
      out.write("            background-color: lightgray;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            justify-content: center;\n");
      out.write("            cursor: pointer;\n");
      out.write("        }\n");
      out.write("        .stress-circle:hover, .stress-circle.selected {\n");
      out.write("            background-color: blue;\n");
      out.write("            color: white;\n");
      out.write("        }\n");
      out.write("        .section-header {\n");
      out.write("            display: flex;\n");
      out.write("            justify-content: space-between;\n");
      out.write("            cursor: pointer;\n");
      out.write("            font-weight: bold;\n");
      out.write("            padding: 10px;\n");
      out.write("            border: 1px solid #ccc;\n");
      out.write("            background-color: #f8f8f8;\n");
      out.write("        }\n");
      out.write("        .form-content {\n");
      out.write("            display: none;\n");
      out.write("            padding: 10px;\n");
      out.write("            border: 1px solid #ccc;\n");
      out.write("            margin-top: -1px;\n");
      out.write("        }\n");
      out.write("        .captcha-container {\n");
      out.write("            display: flex;\n");
      out.write("            flex-direction: column;\n");
      out.write("            align-items: center;\n");
      out.write("            gap: 10px;\n");
      out.write("        }\n");
      out.write("        .captcha-box {\n");
      out.write("            font-size: 24px;\n");
      out.write("            font-weight: bold;\n");
      out.write("            letter-spacing: 3px;\n");
      out.write("            text-decoration: line-through;\n");
      out.write("            background: #f1f1f1;\n");
      out.write("            padding: 10px;\n");
      out.write("            border: 1px solid #ccc;\n");
      out.write("            display: inline-block;\n");
      out.write("        }\n");
      out.write("        .refresh-button {\n");
      out.write("            cursor: pointer;\n");
      out.write("            font-size: 16px;\n");
      out.write("            color: blue;\n");
      out.write("            text-decoration: underline;\n");
      out.write("            border: none;\n");
      out.write("            background: none;\n");
      out.write("        }\n");
      out.write("        .input-box {\n");
      out.write("            width: 200px;\n");
      out.write("            padding: 5px;\n");
      out.write("            font-size: 18px;\n");
      out.write("        }\n");
      out.write("        .submit-btn {\n");
      out.write("            padding: 10px 15px;\n");
      out.write("            font-size: 16px;\n");
      out.write("             background: linear-gradient(90deg, #4CAF50, #008CBA);\n");
      out.write("\n");
      out.write("            color: white;\n");
      out.write("            border: none;\n");
      out.write("            cursor: pointer;\n");
      out.write("            display: block;\n");
      out.write("            margin-top: 20px;\n");
      out.write("        }\n");
      out.write("        .success-message {\n");
      out.write("            color: green;\n");
      out.write("            font-weight: bold;\n");
      out.write("            margin-top: 20px;\n");
      out.write("        }\n");
      out.write("        .error-message {\n");
      out.write("            color: red;\n");
      out.write("            font-size: 12px;\n");
      out.write("            margin-top: 5px;\n");
      out.write("        }\n");
      out.write("       \n");
      out.write("\n");
      out.write("    table {\n");
      out.write("        border-collapse: collapse;\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    /* Styling buttons */\n");
      out.write("    input[type=\"submit\"],\n");
      out.write("    input[type=\"reset\"] {\n");
      out.write("        background-color: #007bff; /* Blue color */\n");
      out.write("        color: white;\n");
      out.write("        padding: 10px 20px;\n");
      out.write("        font-size: 16px;\n");
      out.write("        border: none;\n");
      out.write("        border-radius: 5px;\n");
      out.write("        cursor: pointer;\n");
      out.write("        margin: 5px;\n");
      out.write("        transition: background 0.3s ease;\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    input[type=\"reset\"] {\n");
      out.write("        background-color: #dc3545; /* Red color */\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    /* Hover effect */\n");
      out.write("    input[type=\"submit\"]:hover {\n");
      out.write("        background-color: #0056b3;\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    input[type=\"reset\"]:hover {\n");
      out.write("        background-color: #c82333;\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    </style>\n");
      out.write("</head>\n");
      out.write("<body>\n");
      out.write("<div class=\"header\">\n");
      out.write("    <img src=\"images/LOGO.png\" alt=\"AmritaVaidya Logo\">\n");
      out.write("    <div class=\"menu\">\n");
      out.write("        <div class=\"menu-item\">\n");
      out.write("            <a href=\"#\">Login</a>\n");
      out.write("            <div class=\"dropdown\">\n");
      out.write("                <a href=\"login1.jsp\">Are you a Patient?</a>\n");
      out.write("                <a href=\"login1.jsp\">Are you a Doctor?</a>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("        <a href=\"started.jsp\">Home</a>\n");
      out.write("        <a href=\"#about\">About Us</a>\n");
      out.write("        <a href=\"faq.jsp\">FAQs</a>\n");
      out.write("        <a href=\"contact.html\">Contact Us</a>\n");
      out.write("        <div class=\"menu-item\">\n");
      out.write("            <a href=\"#\">Profile</a>\n");
      out.write("            <div class=\"dropdown\">\n");
      out.write("                <a href=\"profile.jsp\">My Profile</a>\n");
      out.write("                <a href=\"logout.jsp\">Sign Out</a>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("</div>\n");
      out.write("<div class=\"container\">\n");
      out.write("   \n");
      out.write("    <div class=\"form-header\">\n");
      out.write("       \n");
      out.write("       <img src=\"images/LOGO.png\" alt=\"AmritaVaidya Logo\">\n");
      out.write("        <h1>CONSULTATION FORM </h1>\n");
      out.write("      </div>\n");
      out.write("\n");
      out.write("\n");
      out.write("    <!-- Personal Information Section -->\n");
      out.write("    <form id=\"consultationForm\">\n");
      out.write("        <div class=\"form-group\">\n");
      out.write("            <label>Full Name *</label><br>\n");
      out.write("            <input type=\"text\" class=\"input-box\" name=\"prefix_name\" placeholder=\"Prefix\" required>\n");
      out.write("            <input type=\"text\" class=\"input-box\" name=\"firstname\" placeholder=\"First Name\" required>\n");
      out.write("            <input type=\"text\" class=\"input-box\" name=\"middlename\" placeholder=\"Middle Name\">\n");
      out.write("            <input type=\"text\" class=\"input-box\" name=\"lastname\"  placeholder=\"Last Name\" required>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <div class=\"form-group\">\n");
      out.write("            <label for=\"birthdate\">Birth Date *</label><br>\n");
      out.write("            <input type=\"date\" name=\"birthdate\"  id=\"birthdate\" class=\"input-box\" required>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <div class=\"form-group\">\n");
      out.write("            <label>I Am *</label><br>\n");
      out.write("            <div class=\"radio-group\">\n");
      out.write("                <input type=\"radio\" name=\"gender\" id=\"male\" value=\"Male\" required>\n");
      out.write("                <label for=\"male\">Male</label>\n");
      out.write("               \n");
      out.write("                <input type=\"radio\" name=\"gender\" id=\"female\" value=\"Female\">\n");
      out.write("                <label for=\"female\">Female</label>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Collapsible Basic Information Section -->\n");
      out.write("        <div class=\"section-header\" onclick=\"toggleSection('basicInfo', 'arrow1')\">\n");
      out.write("            <span>Basic Information</span>\n");
      out.write("            <span id=\"arrow1\">?</span>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <div class=\"form-content\" id=\"basicInfo\">\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Address *</label>\n");
      out.write("                <input type=\"text\" class=\"input-box\" name=\"address1\" placeholder=\"Street Address\" required>\n");
      out.write("                <input type=\"text\" class=\"input-box\" name=\"address2\" placeholder=\"Street Address Line 2\">\n");
      out.write("                <div class=\"row\">\n");
      out.write("                    <input type=\"text\" class=\"input-box\" name=\"city\" placeholder=\"City\" required>\n");
      out.write("                    <input type=\"text\" class=\"input-box \" name=\"state_province\"  placeholder=\"State / Province\" required>\n");
      out.write("                </div>\n");
      out.write("                <input type=\"text\" class=\"input-box\"  name=\"zip\" placeholder=\"Postal / Zip Code\" required>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Phone Number</label>\n");
      out.write("                <input type=\"tel\" class=\"input-box\" name=\"phone\" placeholder=\"(000) 000-0000\">\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>E-mail *</label>\n");
      out.write("                <input type=\"email\" class=\"input-box\" name=\"email\" placeholder=\"example@example.com\" required>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Occupation *</label>\n");
      out.write("                <select class=\"select-box\" name=\"occupation\" required>\n");
      out.write("                    <option value=\"\">Please Select</option>\n");
      out.write("                    <option>Student</option>\n");
      out.write("                    <option>Engineer</option>\n");
      out.write("                    <option>Doctor</option>\n");
      out.write("                    <option>Other</option>\n");
      out.write("                </select>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Collapsible Main Case Paper Section -->\n");
      out.write("        <div class=\"section-header\" onclick=\"toggleSection('casePaper', 'arrow2')\">\n");
      out.write("            <span>Main Case Paper</span>\n");
      out.write("            <span id=\"arrow2\">?</span>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <div class=\"form-content\" id=\"casePaper\">\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Your Weight in KG *</label>\n");
      out.write("                <input type=\"text\" class=\"input-box\"   name=\"weight\" placeholder=\"Enter weight in KG\" required>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Main Complaints *</label>\n");
      out.write("                <textarea class=\"textarea-box\"  name=\"complaints\" placeholder=\"Describe your main complaints\" required></textarea>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Factors - Increasing / Decreasing Symptoms *</label>\n");
      out.write("                <textarea class=\"textarea-box\"  name=\"factors\" placeholder=\"Mention factors affecting symptoms\" required></textarea>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Previous Illness History *</label>\n");
      out.write("                <textarea class=\"textarea-box\"  name=\"illness_history\"  placeholder=\"Describe previous illnesses\" required></textarea>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Any Surgical History? *</label><br>\n");
      out.write("                <div class=\"radio-group\">\n");
      out.write("                    <input type=\"radio\" name=\"surgery\" id=\"surgeryYes\" value=\"Yes\" required>\n");
      out.write("                    <label for=\"surgeryYes\">Yes</label>\n");
      out.write("\n");
      out.write("                    <input type=\"radio\" name=\"surgery\" id=\"surgeryNo\" value=\"No\" checked>\n");
      out.write("                    <label for=\"surgeryNo\">No</label>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Family Medical History *</label>\n");
      out.write("                <textarea class=\"textarea-box\"  name=\"family_history\" placeholder=\"Mention any hereditary conditions\" required></textarea>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Collapsible Routine Section -->\n");
      out.write("        <div class=\"section-header\" onclick=\"toggleSection('routine', 'arrow3')\">\n");
      out.write("            <span>Routine</span>\n");
      out.write("            <span id=\"arrow3\">?</span>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <div class=\"form-content\" id=\"routine\">\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Wake up *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"wakeup\" value=\"Before Sunrise\" required> Before Sunrise\n");
      out.write("                <input type=\"radio\" name=\"wakeup\" value=\"After Sunrise\"> After Sunrise\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Exercise? *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"exercise\" value=\"Daily\" required> Daily\n");
      out.write("                <input type=\"radio\" name=\"exercise\" value=\"Sometimes\"> Sometimes\n");
      out.write("                <input type=\"radio\" name=\"exercise\" value=\"Never\"> Never\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Type of Job *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"Sitting Job\" required> Sitting Job\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"Stressful\"> Stressful\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"In hot surrounding\"> In hot surrounding\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"Shift Duty\"> Shift Duty\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"Night Duty\"> Night Duty\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"Travelling Job\"> traveling Job\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"House Work\"> House Work\n");
      out.write("                <input type=\"radio\" name=\"jobtype\" value=\"Continuously in Front of PC/Laptop\"> Continuously in Front of PC/Laptop\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Your Appetite? *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"appetite\" value=\"Good Appetite\" required> Good Appetite\n");
      out.write("                <input type=\"radio\" name=\"appetite\" value=\"No feeling of Appetite\"> No Feeling of Appetite\n");
      out.write("                <input type=\"radio\" name=\"appetite\" value=\"Sometimes Good Sometimes no feeling of Appetite\"> Sometimes Good Sometimes no feeling of Appetite\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Timing of Having Meal *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"mealtiming\" value=\"Regular\" required> Regular\n");
      out.write("                <input type=\"radio\" name=\"mealtiming\" value=\"Irregular\"> Irregular\n");
      out.write("                <input type=\"radio\" name=\"mealtiming\" value=\"Only after feeling of Appetite\"> Only after feeling of Appetite\n");
      out.write("                <input type=\"radio\" name=\"mealtiming\" value=\"Scheduled as per time\"> Scheduled as per time\n");
      out.write("                <input type=\"radio\" name=\"mealtiming\" value=\"Other\"> Other\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Do you have breakfast? *</label><br>\n");
      out.write("                <select class=\"select-box\" name=\"breakfast\" required>\n");
      out.write("                    <option value=\"\">Please Select</option>\n");
      out.write("                    <option value=\"Yes\">Yes</option>\n");
      out.write("                    <option value=\"No\">No</option>\n");
      out.write("                    <option value=\"Sometimes\">Sometimes</option>\n");
      out.write("                </select>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Breakfast Timing *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"breakfasttiming\" value=\"Morning\" required> Morning\n");
      out.write("                <input type=\"radio\" name=\"breakfasttiming\" value=\"Approx Afternoon time\"> Approx Afternoon time\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Do you feel hungry at breakfast? *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"hungrybreakfast\" value=\"Yes\" > Yes\n");
      out.write("                <input type=\"radio\" name=\"hungrybreakfast\" value=\"No\"> No\n");
      out.write("            </div>\n");
      out.write("           \n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Timing of LUNCH *</label><br>\n");
      out.write("                <select class=\"select-box\" name=\"lunchtiming\" required>\n");
      out.write("                    <option value=\"\">Please Select</option>\n");
      out.write("                    <option value=\"10:00AM-11:00AM\">10:00AM-11:00AM</option>\n");
      out.write("                    <option value=\"11:00AM-12:00PM\">11:00AM-12:00PM</option>\n");
      out.write("                    <option value=\"12:00PM-02:00PM\">12:00PM-02:00PM</option>\n");
      out.write("                    <option value=\"BEFORE 10:00AM\">BEFORE 10:00AM</option>\n");
      out.write("                    <option value=\"AFTER 02:00PM\">AFTER 02:00PM</option>\n");
      out.write("                </select>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Timing of Dinner *</label><br>\n");
      out.write("                <select class=\"select-box\" name=\"dinnertiming\" required>\n");
      out.write("                    <option value=\"\">Please Select</option>\n");
      out.write("                    <option value=\"Before Sunset\">Before Sunset</option>\n");
      out.write("                    <option value=\"07:00PM-09:00PM\">07:00PM-09:00PM</option>\n");
      out.write("                    <option value=\"09:00PM-10:00PM\">09:00PM-10:00PM</option>\n");
      out.write("                    <option value=\"10:00PM onwards\">10:00PM onwards</option>\n");
      out.write("                    <option value=\"Very Irregular\">Very Irregular</option>\n");
      out.write("                </select>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Bad Habits *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"badhabits\" value=\"Cigarette\"> Cigarette\n");
      out.write("                <input type=\"radio\" name=\"badhabits\" value=\"Tobacco\"> Tobacco\n");
      out.write("                <input type=\"radio\" name=\"badhabits\" value=\"Alcohol\"> Alcohol\n");
      out.write("                <input type=\"radio\" name=\"badhabits\" value=\"Gutkha\"> Gutkha\n");
      out.write("                <input type=\"radio\" name=\"badhabits\" value=\"None\"> None\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Details about Bad Habits (Quantity, How Many Times, etc.)</label>\n");
      out.write("                <textarea class=\"textarea-box\" name=\"badhabitdetails\"></textarea>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Maximum Consumption of *</label><br>\n");
      out.write("                <input type=\"radio\" name=\"foodpreference\" value=\"Sweet Food\"> Sweet Food\n");
      out.write("                <input type=\"radio\" name=\"foodpreference\" value=\"Salty Food\"> Salty Food\n");
      out.write("                <input type=\"radio\" name=\"foodpreference\" value=\"Sour Food\"> Sour Food\n");
      out.write("                <input type=\"radio\" name=\"foodpreference\" value=\"Pungent Food\"> Pungent Food\n");
      out.write("                <input type=\"radio\" name=\"foodpreference\" value=\"Stringent Food\"> Stringent Food\n");
      out.write("                <input type=\"radio\" name=\"foodpreference\" value=\"Bitter Food\"> Bitter Food\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("       \n");
      out.write("        <!-- Collapsible Daily Routine Section -->\n");
      out.write("        <div class=\"section-header\" onclick=\"toggleSection('dailyRoutine', 'arrow4')\">\n");
      out.write("            <span>Daily Routine</span>\n");
      out.write("            <span id=\"arrow4\">?</span>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <div class=\"form-content\" id=\"dailyRoutine\">\n");
      out.write("           \n");
      out.write("           \n");
      out.write("            <!-- Bowel Habits -->\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Bowel Habits *</label>\n");
      out.write("                <table border=\"1\">\n");
      out.write("                    <tr>\n");
      out.write("                        <th></th>\n");
      out.write("                        <th>Yes</th>\n");
      out.write("                        <th>No</th>\n");
      out.write("                        <th>Sometimes</th>\n");
      out.write("                    </tr>\n");
      out.write("                    <tr>\n");
      out.write("                        <td>Do you visit toilet daily?</td>\n");
      out.write("                        <td><input type=\"radio\" name=\"toilet\"></td>\n");
      out.write("                        <td><input type=\"radio\" name=\"toilet\"></td>\n");
      out.write("                        <td><input type=\"radio\" name=\"toilet\"></td>\n");
      out.write("                    </tr>\n");
      out.write("                    <tr>\n");
      out.write("                        <td>Do you have feeling of Defecation?</td>\n");
      out.write("                        <td><input type=\"radio\" name=\"defecation\"></td>\n");
      out.write("                        <td><input type=\"radio\" name=\"defecation\"></td>\n");
      out.write("                        <td><input type=\"radio\" name=\"defecation\"></td>\n");
      out.write("                    </tr>\n");
      out.write("                 \n");
      out.write("                    <tr>\n");
      out.write("                        <td>Do you need Tea / Coffee / other things for Sensation?</td>\n");
      out.write("                        <td><input type=\"radio\" name=\"tea\" value=\"yes\"></td>\n");
      out.write("                        <td><input type=\"radio\" name=\"tea\" value=\"no\"></td>\n");
      out.write("                        <td><input type=\"radio\" name=\"tea\" value=\"sometimes\"></td>\n");
      out.write("                    </tr>\n");
      out.write("                </table>\n");
      out.write("            </div>\n");
      out.write("           \n");
      out.write("            <!-- Nature of Stool -->\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("    <label>Nature of Stool *</label><br>\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Solid\"> Solid\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Semisolid\"> Semisolid\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Watery\"> Watery\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Sticky\"> Sticky\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Yellowish\"> Yellowish\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Brownish\"> Brownish\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Dark Yellowish\"> Dark Yellowish\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"Greenish\"> Greenish\n");
      out.write("    <input type=\"radio\" name=\"stoolnature\" value=\"With Blood\"> With Blood\n");
      out.write("</div>\n");
      out.write("           \n");
      out.write("            <!-- Urine Frequency -->\n");
      out.write("<div class=\"form-group\">\n");
      out.write("    <label>Urine Frequency *</label><br>\n");
      out.write("    <input type=\"radio\" name=\"urine\" value=\"2-3\"> 2-3 times in 24 Hrs.<br>\n");
      out.write("    <input type=\"radio\" name=\"urine\" value=\"4-6\"> 4-6 times in 24 Hrs.<br>\n");
      out.write("    <input type=\"radio\" name=\"urine\" value=\"more_8\"> More than 8 times in 24 Hrs.<br>\n");
      out.write("    <input type=\"radio\" name=\"urine\" value=\"day_only\"> More in day time & not during night.<br>\n");
      out.write("    <input type=\"radio\" name=\"urine\" value=\"sometimes_night\"> Sometimes during night also.<br>\n");
      out.write("    <input type=\"radio\" name=\"urine\" value=\"always_night\"> Always during Night also<br>\n");
      out.write("    <input type=\"radio\" name=\"urine\" value=\"other\"> Other<br>\n");
      out.write("</div>\n");
      out.write("           \n");
      out.write("           <!-- Sweating -->\n");
      out.write("    <div class=\"form-group\">\n");
      out.write("        <label>Sweating / Perspiration *</label>\n");
      out.write("        <select  class=\"select-box\" name=\"sweating\" required>\n");
      out.write("            <option value=\"\">Please Select</option>\n");
      out.write("            <option value=\"Excessive\">Excessive</option>\n");
      out.write("            <option value=\"Normal\">Normal</option>\n");
      out.write("            <option value=\"Less\">Less</option>\n");
      out.write("        </select>\n");
      out.write("    </div>\n");
      out.write("           \n");
      out.write("             <!-- Sleep -->\n");
      out.write("    <div class=\"form-group\">\n");
      out.write("        <label>About Your Sleep *</label><br>\n");
      out.write("        <input type=\"radio\" name=\"sleep\" value=\"Sound sleep in Night\"> Sound sleep in Night\n");
      out.write("        <input type=\"radio\" name=\"sleep\" value=\"Breaking Sleep\"> Breaking Sleep\n");
      out.write("        <input type=\"radio\" name=\"sleep\" value=\"Other\"> Other\n");
      out.write("    </div>\n");
      out.write("           \n");
      out.write("           <!-- Afternoon Sleep -->\n");
      out.write("    <div class=\"form-group\">\n");
      out.write("        <label>Do you have afternoon sleep after lunch? *</label><br>\n");
      out.write("        <input type=\"radio\" name=\"afternoon_sleep\" value=\"Yes\"> Yes\n");
      out.write("        <input type=\"radio\" name=\"afternoon_sleep\" value=\"No\"> No\n");
      out.write("        <input type=\"radio\" name=\"afternoon_sleep\" value=\"Sometimes\"> Sometimes\n");
      out.write("    </div>\n");
      out.write("           \n");
      out.write("            <!-- Stress Level -->\n");
      out.write("            <div class=\"form-group\">\n");
      out.write("                <label>Stress Level *</label><br>\n");
      out.write("                <div style=\"display: flex; gap: 10px;\">\n");
      out.write("                    <div class=\"stress-circle\">1</div>\n");
      out.write("                    <div class=\"stress-circle\">2</div>\n");
      out.write("                    <div class=\"stress-circle\">3</div>\n");
      out.write("                    <div class=\"stress-circle\">4</div>\n");
      out.write("                    <div class=\"stress-circle\">5</div>\n");
      out.write("                    <div class=\"stress-circle\">6</div>\n");
      out.write("                    <div class=\"stress-circle\">7</div>\n");
      out.write("                    <div class=\"stress-circle\">8</div>\n");
      out.write("                    <div class=\"stress-circle\">9</div>\n");
      out.write("                    <div class=\"stress-circle\">10</div>\n");
      out.write("                </div>\n");
      out.write("                  <input type=\"number\" name=\"stress_level\" min=\"1\" max=\"10\" required>\n");
      out.write("   \n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Gynaecology - Fields for Female Patients Only -->\n");
      out.write("        <div class=\"section-header\" onclick=\"toggleSection('Gynaecology', 'arrow5')\">\n");
      out.write("            <span>Gynaecology - Fields for Female Patients Only</span>\n");
      out.write("            <span id=\"arrow5\">?</span>\n");
      out.write("        </div>\n");
      out.write("       \n");
      out.write("        <div class=\"form-content\" id=\"Gynaecology\">\n");
      out.write("           <div class=\"form-group\">\n");
      out.write("        <h3 class=\"font-bold\">Your Menstrual Cycle</h3>\n");
      out.write("        <label><input type=\"radio\" name=\"menstrual_cycle\" value=\"3 Days / After 28 Days\" required> 3 Days / After 28 Days</label><br>\n");
      out.write("        <label><input type=\"radio\" name=\"menstrual_cycle\" value=\"Less than 3 Days / After 28 Days\"> Less than 3 Days / After 28 Days</label><br>\n");
      out.write("        <label><input type=\"radio\" name=\"menstrual_cycle\" value=\"4-6 Days / After 28 Days\"> 4-6 Days / After 28 Days</label><br>\n");
      out.write("        <label><input type=\"radio\" name=\"menstrual_cycle\" value=\"3-5 Days / After more than 30 days\"> 3-5 Days / After more than 30 days</label><br>\n");
      out.write("        <label><input type=\"radio\" name=\"menstrual_cycle\" value=\"3-5 Days / Before 28 Days\"> 3-5 Days / Before 28 Days</label><br>\n");
      out.write("        <label><input type=\"radio\" name=\"menstrual_cycle\" value=\"Other\"> Other</label><br>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("            <h3 class=\"font-bold mt-4\">Complaints During / Before / After Menstruation</h3>\n");
      out.write("            <textarea class=\"border w-full p-2 rounded\" name=\"complaints2\" rows=\"3\"></textarea>\n");
      out.write("\n");
      out.write("            <h3 class=\"font-bold mt-4\">Obstetric History</h3>\n");
      out.write("            <textarea class=\"border w-full p-2 rounded\" name=\"obstetric_history\" rows=\"3\"></textarea>\n");
      out.write("\n");
      out.write("            <h3 class=\"font-bold mt-4\">Any history of abortion / miscarriage?</h3>\n");
      out.write("            <label><input type=\"radio\" name=\"abortion_history\" onclick=\"toggleAbortionCount(true)\"> Yes</label>\n");
      out.write("            <label><input type=\"radio\" name=\"abortion_history\" onclick=\"toggleAbortionCount(false)\"> No</label>\n");
      out.write("\n");
      out.write("            <div id=\"abortionCount\" class=\"hidden mt-2\">\n");
      out.write("                <h3 class=\"font-bold\">How many times?</h3>\n");
      out.write("                <div class=\"flex items-center space-x-2\">\n");
      out.write("                    <button type=\"button\" onclick=\"decreaseCount()\" class=\"bg-red-500 text-white px-3 py-1 rounded\">-</button>\n");
      out.write("                    <span id=\"count\" class=\"text-lg font-bold\">0</span>\n");
      out.write("                    <button type=\"button\" onclick=\"increaseCount()\" class=\"bg-green-500 text-white px-3 py-1 rounded\">+</button>\n");
      out.write("                </div>\n");
      out.write("                   <input type=\"hidden\" name=\"abortion_count\" id=\"abortion_count\" value=\"0\">\n");
      out.write("   \n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <!-- Finalize your submission -->\n");
      out.write("        <div class=\"section-header\" onclick=\"toggleSection('finalizeSection', 'arrowFinalize')\">\n");
      out.write("            <span>Finalize your Submission</span>\n");
      out.write("            <span id=\"arrowFinalize\">?</span>\n");
      out.write("        </div>\n");
      out.write("       \n");
      out.write("        <div class=\"form-content\" id=\"finalizeSection\">\n");
      out.write("            <h3 class=\"font-bold\">Did you take ayurvedic medicines for this / other illness?</h3>\n");
      out.write("            <label><input type=\"radio\" name=\"ayurvedic_medicine\" onclick=\"toggleMedicineDetails(true)\"> Yes</label>\n");
      out.write("            <label><input type=\"radio\" name=\"ayurvedic_medicine\" onclick=\"toggleMedicineDetails(false)\"> No</label>\n");
      out.write("           \n");
      out.write("            <div id=\"medicineDetails\" class=\"hidden mt-2\">\n");
      out.write("                <h3 class=\"font-bold\">If yes, give details with medicines</h3>\n");
      out.write("                <textarea class=\"border w-full p-2 rounded\" name=\"medicine_detail\"  rows=\"3\"></textarea>\n");
      out.write("            </div>\n");
      out.write("\n");
      out.write("         \n");
      out.write("            <div class=\"captcha-container\">\n");
      out.write("                <label for=\"captchaInput\">Type the word as shown in the image *</label>\n");
      out.write("                <div id=\"captcha\" class=\"captcha-box\"></div>\n");
      out.write("                <button type=\"button\" class=\"refresh-button\" onclick=\"generateCaptcha()\">? Refresh</button>\n");
      out.write("                <input type=\"text\" id=\"captchaInput\"  class=\"input-box\" placeholder=\"Enter CAPTCHA\" required>\n");
      out.write("                <button type=\"button\"  class=\"submit-btn\" onclick=\"validateForm()\">Submit</button>\n");
      out.write("                <p id=\"captchaMessage\"></p>\n");
      out.write("            </div>\n");
      out.write("           \n");
      out.write("        </div>\n");
      out.write("         <div>\n");
      out.write("             <table>\n");
      out.write("                  <tr>\n");
      out.write("                <td colspan=\"2\" align=\"center\">\n");
      out.write("                    <input type=\"submit\" value=\"SUBMIT\" name=\"btnSubmit\" />\n");
      out.write("                    <input type=\"reset\" value=\"RESET\" />\n");
      out.write("                </td>\n");
      out.write("            </tr>\n");
      out.write("                </table>\n");
      out.write("            </div>\n");
      out.write("    </form>\n");
      out.write("    <p id=\"successMessage\" class=\"success-message\" style=\"display:none;\"></p>\n");
      out.write("</div>\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("    let captchaText = \"\"; // Simulated captcha text\n");
      out.write("    function toggleSection(sectionId, arrowId) {\n");
      out.write("        let section = document.getElementById(sectionId);\n");
      out.write("        let arrow = document.getElementById(arrowId);\n");
      out.write("       \n");
      out.write("        if (section.style.display === \"none\" || section.style.display === \"\") {\n");
      out.write("            section.style.display = \"block\";\n");
      out.write("            arrow.innerHTML = \"?\";\n");
      out.write("        } else {\n");
      out.write("            section.style.display = \"none\";\n");
      out.write("            arrow.innerHTML = \"?\";\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    document.querySelectorAll('.stress-circle').forEach(circle => {\n");
      out.write("        circle.addEventListener('click', function() {\n");
      out.write("            document.querySelectorAll('.stress-circle').forEach(c => c.classList.remove('selected'));\n");
      out.write("            this.classList.add('selected');\n");
      out.write("        });\n");
      out.write("    });\n");
      out.write("\n");
      out.write("    function toggleAbortionCount(show) {\n");
      out.write("        document.getElementById('abortionCount').classList.toggle('hidden', !show);\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    function increaseCount() {\n");
      out.write("        let countElement = document.getElementById('count');\n");
      out.write("        countElement.innerText = parseInt(countElement.innerText) + 1;\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    function decreaseCount() {\n");
      out.write("        let countElement = document.getElementById('count');\n");
      out.write("        let currentCount = parseInt(countElement.innerText);\n");
      out.write("        if ( currentCount > 0) {\n");
      out.write("            countElement.innerText = currentCount - 1;\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    function toggleMedicineDetails(show) {\n");
      out.write("        document.getElementById('medicineDetails').classList.toggle('hidden', !show);\n");
      out.write("    }\n");
      out.write("\n");
      out.write("   function generateCaptcha() {\n");
      out.write("        const words = [\"expert\", \"verify\", \"secure\", \"check\", \"random\", \"captcha\", \"dwuvw\", \"v2iy1\", \"76fduq9\"];\n");
      out.write("        captchaText = words[Math.floor(Math.random() * words.length)];\n");
      out.write("        document.getElementById(\"captcha\").innerText = captchaText;\n");
      out.write("    }\n");
      out.write(" \n");
      out.write("\n");
      out.write("     function validateCaptcha() {\n");
      out.write("        const userInput = document.getElementById(\"captchaInput\").value;\n");
      out.write("        const message = document.getElementById(\"captchaMessage\");\n");
      out.write("\n");
      out.write("        if (userInput.toLowerCase() === captchaText.toLowerCase()) {\n");
      out.write("            message.innerHTML = \"<span style='color:green;'>CAPTCHA verified successfully!</span>\";\n");
      out.write("            return true;\n");
      out.write("        } else {\n");
      out.write("            message.innerHTML = \"<span style='color:red;'>Incorrect CAPTCHA. Try again.</span>\";\n");
      out.write("            generateCaptcha();\n");
      out.write("            return false;\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    function validateForm() {\n");
      out.write("        const form = document.getElementById('consultationForm');\n");
      out.write("        const isCaptchaValid = validateCaptcha();\n");
      out.write("        const isFormValid = form.checkValidity();\n");
      out.write("        const errorMessages = form.querySelectorAll('.error-message');\n");
      out.write("\n");
      out.write("        // Clear previous error messages\n");
      out.write("        errorMessages.forEach(msg => msg.remove());\n");
      out.write("\n");
      out.write("        if (isCaptchaValid && isFormValid) {\n");
      out.write("            document.getElementById('successMessage').innerText = \"Form submitted successfully\";\n");
      out.write("            document.getElementById('successMessage').style.display = \"block\";\n");
      out.write("        } else {\n");
      out.write("            // Scroll to the first invalid field and show error message\n");
      out.write("            for (let element of form.elements) {\n");
      out.write("                if (!element.checkValidity()) {\n");
      out.write("                    element.focus();\n");
      out.write("                    const errorMessage = document.createElement('div');\n");
      out.write("                    errorMessage.className = 'error-message';\n");
      out.write("                    errorMessage.innerText = \"This field is required\";\n");
      out.write("                    element.parentNode.insertBefore(errorMessage, element.nextSibling);\n");
      out.write("                    break; // Stop after the first invalid field\n");
      out.write("                }\n");
      out.write("            }\n");
      out.write("            document.getElementById('successMessage').innerText = \"\";\n");
      out.write("            document.getElementById('successMessage').style.display = \"none\";\n");
      out.write("        }\n");
      out.write("    }\n");
      out.write("\n");
      out.write("    window.onload = generateCaptcha;\n");
      out.write("</script>\n");
      out.write("<footer class=\"footer\">\n");
      out.write("    <p>© 2025 Amritavaidya. All Rights Reserved.</p>\n");
      out.write("</footer>\n");
      out.write("</body>\n");
      out.write("</html>\n");
      out.write("\n");

    if (request.getParameter("btnSubmit") != null) {
         
        try {
            Class.forName("org.apache.derby.jdbc.ClientDriver");
            Connection conn = DriverManager.getConnection("jdbc:derby://localhost:1527/Amritavaidya", "av", "av");

            // Retrieve form data
            String prefix = request.getParameter("prefix_name");
            String firstName = request.getParameter("firstname");
            String middleName = request.getParameter("middlename");
            String lastName = request.getParameter("lastname");
            String birthdate = request.getParameter("birthdate");
            String gender = request.getParameter("gender");
            String address1 = request.getParameter("address1");
            String address2 = request.getParameter("address2");
            String city = request.getParameter("city");
            String state = request.getParameter("state_province");
            String zip = request.getParameter("zip");
            String phone = request.getParameter("phone");
            String email = request.getParameter("email");
            String occupation = request.getParameter("occupation");
            String weight = request.getParameter("weight");
            String complaints = request.getParameter("complaints");
            String factors = request.getParameter("factors");
            String illnessHistory = request.getParameter("illness_history");
            String surgery = request.getParameter("surgery");
            String familyHistory = request.getParameter("family_history");
            String wakeUp = request.getParameter("wakeup");
            String exercise = request.getParameter("exercise");

            String jobType = request.getParameter("jobtype");
           
            String appetite = request.getParameter("appetite");
            String mealTiming = request.getParameter("mealtiming");
            String breakfast = request.getParameter("breakfast");
            String breakfastTiming = request.getParameter("breakfasttiming");
            String hungryBreakfast = request.getParameter("hungrybreakfast");
            String lunchTiming = request.getParameter("lunchtiming");
            String dinnerTiming = request.getParameter("dinnertiming");

            String badHabit = request.getParameter("badhabits");
           

            String foodPreference = request.getParameter("foodpreference");
           
            String badHabitDetails = request.getParameter("badhabitdetails");
            String toilet = request.getParameter("toilet");
            String defecation = request.getParameter("defecation");
            String tea = request.getParameter("tea");
            // Handling multiple selected checkboxes for "Nature of Stool"
            String stoolNature = request.getParameter("stoolnature");
           
            String urineFrequency = request.getParameter("urine");
           
            String sweating = request.getParameter("sweating");
            String sleep = request.getParameter("sleep");
            String afternoonSleep = request.getParameter("afternoon_sleep");
            String stressLevel = request.getParameter("stress_level");

           
            String menstrualCycle = request.getParameter("menstrual_cycle");
            // Handle null values (if user did not select an option)
           
            String complaints2 = request.getParameter("complaints2");
            String obstetricHistory = request.getParameter("obstetric_history");
            String abortionHistory = request.getParameter("abortion_history");
            String abortionCount = request.getParameter("abortion_count");
           String tookMedicine = request.getParameter("ayurvedic_medicine");
            String medicineDetails = request.getParameter("medicine_details");
           
            String sql = "INSERT INTO AV.ONLINE_CONSULTATION (prefix_name, firstname, middlename, lastname, "
                        + "birthdate, gender, address1, address2, city, state_province, zip, phone, email, occupation,"
                        + " weight, complaints, factors, illness_history,surgery, family_history,wakeup, exercise, jobtype, appetite, "
                        + "mealtiming,breakfast, breakfasttiming, hungrybreakfast, lunchtiming, dinnertiming,"
                        + " badhabits,badhabitdetails,foodpreference,toilet, defecation, tea,stoolnature,urine,sweating,"
                        + " sleep, afternoon_sleep, stress_level,menstrual_cycle,complaints2,obstetric_history, abortion_history, "
                        + "abortion_count,ayurvedic_medicine, medicine_details) "
                        + "VALUES (?,?, ?, ?, ?,?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?,?,?, ?, ?,"
                        + " ?,?,?,?, ?, ?, ?,?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?,?,?,?,?)";
                PreparedStatement pstmt = conn.prepareStatement(sql);
                pstmt.setString(1, prefix);
                pstmt.setString(2, firstName);
                pstmt.setString(3, middleName);
                pstmt.setString(4, lastName);
                pstmt.setString(5, birthdate);
                pstmt.setString(6, gender);
                pstmt.setString(7, address1);
                pstmt.setString(8, address2);
                pstmt.setString(9, city);
                pstmt.setString(10, state);
                pstmt.setString(11, zip);
                pstmt.setString(12, phone);
                pstmt.setString(13, email);
                pstmt.setString(14, occupation);
                pstmt.setString(15, weight);
                pstmt.setString(16, complaints);
                pstmt.setString(17, factors);
                pstmt.setString(18, illnessHistory);
                pstmt.setString(19, surgery);
                pstmt.setString(20, familyHistory);
                pstmt.setString(21, wakeUp);
                pstmt.setString(22, exercise);
                pstmt.setString(23, jobType);
                pstmt.setString(24, appetite);
                pstmt.setString(25, mealTiming);
                pstmt.setString(26, breakfast);
                pstmt.setString(27, breakfastTiming);
                pstmt.setString(28, hungryBreakfast);
                pstmt.setString(29, lunchTiming);
                pstmt.setString(30, dinnerTiming);
                pstmt.setString(31, badHabit);
                pstmt.setString(32, badHabitDetails);
                pstmt.setString(33, foodPreference);

                pstmt.setString(34, toilet);
                pstmt.setString(35, defecation);
                pstmt.setString(36, tea);
                pstmt.setString(37, stoolNature);
                pstmt.setString(38, urineFrequency);
                pstmt.setString(39, sweating);
                pstmt.setString(40, sleep);
                pstmt.setString(41, afternoonSleep);
                pstmt.setInt(42, Integer.parseInt(stressLevel));
                pstmt.setString(43, menstrualCycle);
                pstmt.setString(44, complaints2);
                pstmt.setString(45, obstetricHistory);
                pstmt.setString(46, abortionHistory);
                pstmt.setInt(47, Integer.parseInt(abortionCount));
                pstmt.setString(48, tookMedicine);
                pstmt.setString(49, medicineDetails);
               
             
                int rowsInserted = pstmt.executeUpdate();

                   

            if (rowsInserted > 0) {
                out.println("<script>");
                out.println("alert('Data saved successfully!');");
                out.println("window.location.href = 'screen1.html';"); // Redirect using JavaScript
                out.println("</script>");
            } else {
                out.println("<h3>Error: Unable to submit your request. Please try again.</h3>");
            }
                }
           
           
        catch (Exception e) {
        e.printStackTrace(); // Log the full stack trace
        out.println("Error: " + e.getMessage());
        }
 }

    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
